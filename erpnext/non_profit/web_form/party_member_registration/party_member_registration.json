{
 "accept_payment": 0,
 "allow_comments": 0,
 "allow_delete": 0,
 "allow_edit": 0,
 "allow_incomplete": 0,
 "allow_multiple": 0,
 "allow_print": 0,
 "amount": 0.0,
 "amount_based_on_field": 0,
 "apply_document_permissions": 0,
 "button_label": "Save",
 "client_script": "frappe.web_form.after_load = (frm) => {\n    // init script here\n    //console.log(\"hello\")\n    frappe.call({\n        method:\"frappe.client.get_list\",\n        args:{\n            doctype:\"Counties\",\n            filters: [\n            ],\n            fields: ['county_name','county_code'],\n            limit_page_length: 60\n        },\n        callback: function(r) {\n            if (r.message) {\n                var options = [];\n                $.each(r.message, function(i,d) {\n                    //console.log(d);\n                    options.push(d.county_name)\n                    \n                });\n            //\tconsole.log(options);\n                frappe.web_form.set_df_property('county', 'options', options);\n            //\tfrm.fields_dict.county.options = options;\n            }\n        }\n        \n    });\n}\n\n\n\n\n\nfrappe.web_form.on('county', (field, value) => {\n    //console.log(value)\n\n    if (value) {\n        frappe.call({\n            method:\"frappe.client.get_list\",\n            args:{\n                doctype:\"Constituencies\",\n                filters: {\n                    county_id: [\"=\", value]\n                },\n                fields: ['county_id','constituency','constituency_code'],\n                limit_page_length: 50\n            },\n            callback: function(r) {\n                if (r.message) {\n                    var options = [];\n                    $.each(r.message, function(i,d) {\n                        //  console.log(d);\n                        options.push(d.constituency)\n                        \n                    });\n                //\tconsole.log(options);\n                    frappe.web_form.set_df_property('constituency', 'options', options);\n                //\tfrm.fields_dict.county.options = options;\n                }\n            }\n        });\n\n\n    }\n});\n\n\n\nfrappe.web_form.on('constituency', (field, value) => {\n    //console.log(value)\n\n    frappe.call({\n        method:\"frappe.client.get_list\",\n        args:{\n            doctype:\"Wards\",\n            filters: {\n                constituency_id: [\"=\", value]\n            },\n            fields: ['constituency_id','ward','caw_code'],\n            limit_page_length: 50\n        },\n        callback: function(r) {\n            if (r.message) {\n                var options = [];\n                $.each(r.message, function(i,d) {\n                    //  console.log(d);\n                    options.push(d.ward)\n                    \n                });\n            //\tconsole.log(options);\n                frappe.web_form.set_df_property('ward', 'options', options);\n            //\tfrm.fields_dict.county.options = options;\n            }\n        }\n    });\n\n});\n\n",
 "creation": "2021-01-28 04:33:57.549830",
 "currency": "KES",
 "doc_type": "Member",
 "docstatus": 0,
 "doctype": "Web Form",
 "idx": 0,
 "introduction_text": "<div class=\"ql-editor read-mode\"><p>Party Membership</p></div>",
 "is_standard": 1,
 "login_required": 0,
 "max_attachment_size": 10,
 "modified": "2021-01-29 18:06:31.602805",
 "modified_by": "Administrator",
 "module": "Non Profit",
 "name": "party-member-registration",
 "owner": "Administrator",
 "payment_button_label": "Buy Now",
 "published": 1,
 "route": "party-member-registration",
 "route_to_success_link": 0,
 "show_attachments": 0,
 "show_in_grid": 0,
 "show_sidebar": 0,
 "sidebar_items": [],
 "success_url": "/party-member-registration",
 "title": "Party Member Registration",
 "web_form_fields": [
  {
   "allow_read_on_all_link_options": 0,
   "fieldname": "sirname",
   "fieldtype": "Data",
   "hidden": 0,
   "label": "Surname",
   "max_length": 0,
   "max_value": 0,
   "read_only": 0,
   "reqd": 0,
   "show_in_filter": 0
  },
  {
   "allow_read_on_all_link_options": 0,
   "fieldname": "member_name",
   "fieldtype": "Data",
   "hidden": 0,
   "label": "Other Names",
   "max_length": 0,
   "max_value": 0,
   "read_only": 0,
   "reqd": 1,
   "show_in_filter": 0
  },
  {
   "allow_read_on_all_link_options": 0,
   "fieldname": "id_passport",
   "fieldtype": "Data",
   "hidden": 0,
   "label": "ID Passport",
   "max_length": 0,
   "max_value": 0,
   "read_only": 0,
   "reqd": 0,
   "show_in_filter": 0
  },
  {
   "allow_read_on_all_link_options": 0,
   "fieldname": "county",
   "fieldtype": "Select",
   "hidden": 0,
   "label": "County",
   "max_length": 0,
   "max_value": 0,
   "read_only": 0,
   "reqd": 0,
   "show_in_filter": 0
  },
  {
   "allow_read_on_all_link_options": 0,
   "fieldname": "constituency",
   "fieldtype": "Select",
   "hidden": 0,
   "label": "Constituency",
   "max_length": 0,
   "max_value": 0,
   "read_only": 0,
   "reqd": 0,
   "show_in_filter": 0
  },
  {
   "allow_read_on_all_link_options": 0,
   "fieldname": "ward",
   "fieldtype": "Select",
   "hidden": 0,
   "label": "Ward",
   "max_length": 0,
   "max_value": 0,
   "read_only": 0,
   "reqd": 0,
   "show_in_filter": 0
  },
  {
   "allow_read_on_all_link_options": 0,
   "fieldname": "mobile_telephone",
   "fieldtype": "Data",
   "hidden": 0,
   "label": "Mobile Telephone",
   "max_length": 0,
   "max_value": 0,
   "read_only": 0,
   "reqd": 0,
   "show_in_filter": 0
  },
  {
   "allow_read_on_all_link_options": 0,
   "fieldname": "column_break_5",
   "fieldtype": "Column Break",
   "hidden": 0,
   "max_length": 0,
   "max_value": 0,
   "read_only": 0,
   "reqd": 0,
   "show_in_filter": 0
  },
  {
   "allow_read_on_all_link_options": 0,
   "fieldname": "gender",
   "fieldtype": "Select",
   "hidden": 0,
   "label": "Gender",
   "max_length": 0,
   "max_value": 0,
   "options": "Male\nFemale",
   "read_only": 0,
   "reqd": 0,
   "show_in_filter": 0
  },
  {
   "allow_read_on_all_link_options": 0,
   "fieldname": "yob",
   "fieldtype": "Date",
   "hidden": 0,
   "label": "Date of Birth",
   "max_length": 0,
   "max_value": 0,
   "read_only": 0,
   "reqd": 0,
   "show_in_filter": 0
  },
  {
   "allow_read_on_all_link_options": 0,
   "fieldname": "email_id",
   "fieldtype": "Data",
   "hidden": 0,
   "label": "Email Address",
   "max_length": 0,
   "max_value": 0,
   "options": "Email",
   "read_only": 0,
   "reqd": 0,
   "show_in_filter": 0
  },
  {
   "allow_read_on_all_link_options": 0,
   "fieldname": "special_interest",
   "fieldtype": "Select",
   "hidden": 0,
   "label": "Special Interest",
   "max_length": 0,
   "max_value": 0,
   "options": "PWD\n",
   "read_only": 0,
   "reqd": 0,
   "show_in_filter": 0
  },
  {
   "allow_read_on_all_link_options": 0,
   "fieldname": "member_of_party",
   "fieldtype": "Check",
   "hidden": 0,
   "label": "I'm currently a member of another party and wish to resign.",
   "max_length": 0,
   "max_value": 0,
   "read_only": 0,
   "reqd": 0,
   "show_in_filter": 0
  },
  {
   "allow_read_on_all_link_options": 0,
   "fieldname": "resignation_letter_upload",
   "fieldtype": "Attach",
   "hidden": 0,
   "label": "Please attach a scanned handwritten Resignation Letter.",
   "max_length": 0,
   "max_value": 0,
   "read_only": 0,
   "reqd": 0,
   "show_in_filter": 0
  },
  {
   "allow_read_on_all_link_options": 0,
   "fieldname": "registered_voter",
   "fieldtype": "Check",
   "hidden": 0,
   "label": "I'm a Registered Voter Eligible to vote.",
   "max_length": 0,
   "max_value": 0,
   "read_only": 0,
   "reqd": 0,
   "show_in_filter": 0
  },
  {
   "allow_read_on_all_link_options": 0,
   "fieldname": "image",
   "fieldtype": "Attach Image",
   "hidden": 1,
   "label": "Signature",
   "max_length": 0,
   "max_value": 0,
   "read_only": 0,
   "reqd": 0,
   "show_in_filter": 0
  }
 ],
 "web_page_link_text": "UDA Membership Registration"
}
